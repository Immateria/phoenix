"use strict";!function(o){var i={};o.on=function(e,n){n=new Event(e,n);if(n)return(i[n.hash()]=n).hash()},o.off=function(e){var n=i[e];n&&(n.disable(),delete i[e])},o.once=function(e,n){var i=o.on(e,function(){!1!==n.apply(null,arguments)&&o.off(i)})}}(Event),function(t){var o={};t.on=function(e,n,i){i=new Key(e,n,i);if(i)return(o[i.hash()]=i).hash()},t.off=function(e){var n=o[e];n&&(n.disable(),delete o[e])},t.once=function(e,n,i){var o=t.on(e,n,function(){!1!==i.apply(null,arguments)&&t.off(o)})}}(Key),Modal.build=function(e){var i=new Modal;return _(e).omit("origin").each(function(e,n){i[n]=e}),_(e.origin).isFunction()&&(i.origin=e.origin(i.frame())),i};var consoleLogFn=console.log,logFn=Phoenix.log;function prettifyError(e){var n="";return e.stack&&(n=e.stack.trim().split("\n").map(function(e){return"\t at "+e}).join("\n")),e.name+": "+e.message+"\n"+n}Phoenix.log=function(){arguments[0]instanceof Error?logFn.call(Phoenix,prettifyError(arguments[0])):logFn.apply(Phoenix,arguments)},console.log=function(){consoleLogFn.apply(console,arguments),Phoenix.log.apply(Phoenix,arguments)},Screen.prototype.frameInRectangle=function(){return Phoenix.log("Deprecated: Function Screen#frameInRectangle() is deprecated and will be removed in later versions, use Screen#flippedFrame() instead."),this.flippedFrame()},Screen.prototype.visibleFrameInRectangle=function(){return Phoenix.log("Deprecated: Function Screen#visibleFrameInRectangle() is deprecated and will be removed in later versions, use Screen#flippedVisibleFrame() instead."),this.flippedVisibleFrame()},Space.prototype.screen=function(){return Phoenix.log("Deprecated: Function Space#screen() is deprecated and will be removed in later versions, use Space#screens() instead."),_.first(this.screens())},function(e){var o={};e.run=function(e,n,i){n=new Task(e,n,function(e){i&&i(e),Task.terminate(e.hash())});return(o[n.hash()]=n).hash()},e.terminate=function(e){var n=o[e];n&&(n.terminate(),delete o[e])}}(Task),function(e){var i={};e.after=function(e,n){e=new Timer(e,!1,function(e){n(e),Timer.off(e.hash())});return(i[e.hash()]=e).hash()},e.every=function(e,n){n=new Timer(e,!0,n);return(i[n.hash()]=n).hash()},e.off=function(e){var n=i[e];n&&(n.stop(),delete i[e])}}(Timer),this.clearTimeout=Timer.off,this.clearInterval=Timer.off,this.setTimeout=function(e,n){return Timer.after(n/1e3,e)},this.setInterval=function(e,n){return Timer.every(n/1e3,e)},Window.prototype.isMinimised=Window.prototype.isMinimized,Window.prototype.maximise=Window.prototype.maximize,Window.prototype.minimise=Window.prototype.minimize,Window.prototype.unminimise=Window.prototype.unminimize,Window.prototype.neighbours=Window.prototype.neighbors,Window.prototype.focusClosestNeighbour=Window.prototype.focusClosestNeighbor;